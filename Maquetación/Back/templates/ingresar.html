<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
  <title>Iniciar sesión</title>

  <!-- google font -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700;900&family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
  <!-- bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <!-- css estilos -->
  <link rel="stylesheet" href="/static/css/styles.css">
  <!-- fontawesome -->
  <script src="https://use.fontawesome.com/releases/v6.0.0-beta2/js/all.js"></script>

  <!-- JAVASCRIPT -->
  <!-- <script src="/static/js/scripts.js"></script> -->



</head>

<body class="ingresar-body" style="background-image: url(static/css/imagenes/portada_1.jpg);">



  <div class="container-fluid">

    <!-- NavBar -->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-inicio">
      <a class="navbar-brand fs-3 fw-semibold navbar-titulo mt-2 ms-5 text-info" href="/">DatAsk</a>
    </nav>

</div>

    <div class="container">
      <div class="row mt-5 justify-content-center" style="margin:8px;">
        <div class="col-xxl-4 col-lg-4 col-md-6 col-9 m-6 col-xs-9 col-12 mt-5"
        style="border-style:groove;border-width: 1px; padding-bottom:15px; padding-top: 10px; border-color: rgb(200, 252, 212); border-radius: 20px;">
          <h3 style="color:#FFB200;text-align:center;font-size:2.5rem; font-weight: bold; font-size: 1.8rem;">Iniciar Sesión</h3>
          <hr style="color:rgb(200, 252, 212);" />
          <form method="POST" action="/Login" id="for">
            <div>
                <div class="form-group row">

                    <div class="container-fluid mt-3">
                        <div class="row">
                            <div class="col-md-12">                              
                                <input type="email" placeholder="Email" name="email" id="email" class="form-control" />
                            </div>
                        </div>
                    </div>

                        <div class="container-fluid ">
                            <div class="col-md-12">                                
                                <input type="password" placeholder="Contraseña"  name="contraseña" id="contraseña"  class="form-control" />
                            </div>
                        </div>
                        <div class="container-fluid mb-3">
                          <div class="col-md-12 text-center d-grid gap-2">
                            <input type="submit" value="Iniciar sesion" class="btn btn-warning text-white btn-lg" style="background-color: #FFB200;"/>
                            <a class="btn btn-success btn-lg" href="/Registrarse" >Registrarme</a>
                            <p class="warnings" id="warnings"></p>
                            {% with messages = get_flashed_messages() %}

                            {% if messages %}
                            <br />
                            {% for message in messages %}
                            <div class="alert alert-primary alert-dismissible" role="alert">
                                <strong>{{ message }}</strong>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                            {% endfor %}
                            {% endif %}

                            {% endwith %}

                          </div>
                      </div>
                </div>
            </div>
       </form>         
        </div>
      </div>
    </div>

<!-- JAVASCRIPT -->
   <script>



     const email=document.getElementById("email")
     const contraseña=document.getElementById("contraseña")
     const form=document.getElementById('form')
     const parrafo=document.getElementById('warnings')

    form.addEventListener("submit", e=>{
     e.preventDefault()
    let warnings=''
    let ingresar=false
     let validarEmail=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
     parrafo.innerHTML=''
     if(contraseña.value.length<6){
         warnings+='-La contraseña debe contener al menos seis carácteres <br>'
         ingresar=true
     }
     if(!validarEmail.test(email.value)){
         warnings+='-Introduce un email válido <br>'
         ingresar=true
     }
     if(ingresar)
     {
         parrafo.innerHTML=warnings
     }


})
   </script>



</body>
</html>