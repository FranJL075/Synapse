<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
  <title>Registarse</title>

  <!-- google font -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700;900&family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
  <!-- bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <!-- css estilos -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- fontawesome -->
  <!-- <script src="https://kit.fontawesome.com/93ce687236.js" crossorigin="anonymous"></script> -->
  <!-- <script src="https://kit.fontawesome.com/1c9ad4b785.js" crossorigin="anonymous"></script> -->
  <script src="https://use.fontawesome.com/releases/v6.0.0-beta2/js/all.js"></script>


</head>

<body class="Registrarse-body" style="
 width: 100%; background-repeat: repeat-x; background: linear-gradient(-45deg, #1746A2, #3B9AE1, #002B5B, #8FE3CF);
	background-size: 400% 400%;
	animation: gradient 15s ease infinite;
	height: 100vh;">
  <!-- NavBar -->
  <nav class="navbar navbar-expand-lg navbar-dark navbar-inicio">
    <a class="navbar-brand fs-3 fw-semibold navbar-titulo mt-2 ms-5 text-info" href="/">DatAsk</a>
  </nav>

  <section>
      <div class="row mt-5 pb-3 mb-5 justify-content-center" style="margin-left: 10px; margin-right:10px;">
    <div class="col-xxl-4 col-lg-4 col-md-6 col-sm-6 col-xs-12 col-12  mt-3"
    style="border-style:groove;border-width: 1px; padding: 60; border-color: rgb(200, 252, 212); border-radius: 20px;">
    <div class="row">
      <h3 class="fw-bolder mt-3" style="color:#FFB200;text-align:center;font-size:1.8rem;">Registrarme</h3>
    </div>

      <hr class="text-white" />
      <form method="POST" action="/Registrarse" id="form2">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group mb-2">
              <label class="control-label" style="color:white;text-align:center; font-size: 1.2rem;">Nombre</label>
              <input class="form-control" id="nombre" onkeypress="return soloLetras(event)" />
            </div>
            <div class="form-group mb-2">
              <label class="control-label" style="color:white;text-align:center; font-size: 1.2rem;">Apellido</label>
              <input class="form-control" id="apellido" onkeypress="return soloLetras(event)" />
            </div>
            <div class="form-group mb-2">
              <label class="control-label" style="color:white;text-align:center; font-size: 1.2rem;">Email</label>
              <input type="email" class="form-control" id="email" />
            </div>
            <div class="form-group mb-2">
              <label class="control-label" style="color:white;text-align:center; font-size: 1.2rem;">Nombre de Usuario</label>
              <input class="form-control" id="usuario" />
            </div>
            <div class="form-group mb-2">
              <label for="exampleFormControlTextarea1" style="color:white;text-align:center; font-size: 1.2rem;">Descripción personal</label>
              <textarea class="form-control" rows="3" cols="50"></textarea>
            </div>

          </div>
          <div class="col-md-6" >
            <div class="form-group mb-2">
              <label class="control-label" style="color:white;text-align:center; font-size: 1.2rem;">Ciudad</label>
              <input class="form-control" id="ciudad" onkeypress="return soloLetras(event)"/>
            </div>
            <div class="form-group mb-2">
              <label asp-for="Password" class="control-label" style="color:white;text-align:center; font-size: 1.2rem;">Contraseña</label>
              <input type="password" class="form-control" id="contraseña" />
            </div>

            <div class="form-group mb-2">
              <label asp-for="Password" class="control-label" style="color:white;text-align:center; font-size: 1.2rem;">Repetir Contraseña</label>
              <input type="password" class="form-control" id="repetircontraseña" />
            </div>


            <div class="form-group mb-2">
              <label style="color:white;text-align:center; font-size: 1.2rem;">Fecha de alta</label>
              <input class="form-control" type="date" id="fecha"/>
            </div>
          </div>
        </div>
        <div class="form-group mb-2 d-grid gap-2">
          <button type="submit" value="Registrarme" class="btn btn-success btn-lg btn-block mt-2">Registrarme</button>
            <p class="warnings" id="warnings"></p>

        </div>
      </form>
    </div>
  </div>

  </section>


<!-- JAVASCRIPT VALIDACION DEL FORMULARIO DE REGISTRO-->
<script>
  const form=document.getElementById('form2')
  const nombre=document.getElementById("nombre")
  const apellido=document.getElementById("apellido")
  const usuario=document.getElementById("usuario")
  const ciudad=document.getElementById("ciudad")

  const email=document.getElementById("email")
  const contraseña=document.getElementById("contraseña")
  const repetirContraseña=document.getElementById("repetircontraseña")
  const parrafo=document.getElementById('warnings')

  var fecha = document.getElementById("fecha").value;



form2.addEventListener("submit", e=>{
  e.preventDefault()
  let warnings=''
  let ingresar=false
  let validarEmail=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/

  parrafo.innerHTML=''
  if(nombre.value.length<2){
      warnings+='-El nombre debe contener al menos dos carácteres <br>'
      ingresar=true
  }
  if(apellido.value.length<2){
      warnings+='-El apellido debe contener al menos dos carácteres <br>'
      ingresar=true
  }
  if(usuario.value.length<4){
      warnings+='-El nombre de usuario debe contener al menos cuatro carácteres <br>'
      ingresar=true
  }
  if(ciudad.value.length<4){
      warnings+='-La ciudad debe contener al menos 3 carácteres <br>'
      ingresar=true
  }
  if(contraseña.value.length<6){
      warnings+='-La contraseña debe contener al menos seis carácteres <br>'
      ingresar=true
  }
  if(repetirContraseña.value!=contraseña.value){
      warnings+='-Las contraseñas no coinciden<br>'
      ingresar=true
  }

  if(!validarEmail.test(email.value)){
      warnings+='-Introduce un email válido <br>'
      ingresar=true
  }
  if(ingresar)
  {
      parrafo.innerHTML=warnings
  }
  else{
      parrafo.innerHTML="Registro éxitoso"
  }

})

  //Funcion para que en el input de Nombre, apellido y  ciudad no deje teclear numeros
  function soloLetras(e) {
    var key = e.keyCode || e.which,
      tecla = String.fromCharCode(key).toLowerCase(),
      letras = " áéíóúabcdefghijklmnñopqrstuvwxyz",
      especiales = [8, 37, 39, 46],
      tecla_especial = false;

    for (var i in especiales) {
      if (key == especiales[i]) {
        tecla_especial = true;
        break;
      }
    }

    if (letras.indexOf(tecla) == -1 && !tecla_especial) {
      return false;
    }
  }
</script>
</body>
</html>
